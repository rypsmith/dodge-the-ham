enum SpriteKindLegacy {
    Player,
    Projectile,
    Food,
    Enemy
}
sprites.onOverlap(SpriteKindLegacy.Player, SpriteKindLegacy.Projectile, function (sprite, otherSprite) {
    otherSprite.destroy()
    info.changeLifeBy(-1)
    mySprite3.startEffect(effects.fire)
    pause(1000)
    effects.clearParticles(mySprite3)
})
info.onLifeZero(function () {
    game.over(false)
})
sprites.onOverlap(SpriteKindLegacy.Player, SpriteKindLegacy.Food, function (sprite, otherSprite) {
    otherSprite.destroy()
    info.changeLifeBy(1)
    mySprite3.startEffect(effects.bubbles)
    pause(1000)
    effects.clearParticles(mySprite3)
})
let myBPM = 0
let music_rate = 0
let Heart: Sprite = null
let addLife = 0
let mySprite3: Sprite = null
let mySprite = sprites.create(sprites.food.bigHam, SpriteKindLegacy.Projectile)
mySprite.destroy()
let gameON = true
mySprite3 = sprites.create(img`
    . . . . . f f 4 4 f f . . . . . 
    . . . . f 5 4 5 5 4 5 f . . . . 
    . . . f e 4 5 5 5 5 4 e f . . . 
    . . f b 3 e 4 4 4 4 e 3 b f . . 
    . . f 3 3 3 3 3 3 3 3 3 3 f . . 
    . f 3 3 e b 3 e e 3 b e 3 3 f . 
    . f 3 3 f f e e e e f f 3 3 f . 
    . f b b f b f e e f b f b b f . 
    . f b b e 1 f 4 4 f 1 e b b f . 
    f f b b f 4 4 4 4 4 4 f b b f f 
    f b b f f f e e e e f f f b b f 
    . f e e f b d d d d b f e e f . 
    . . e 4 c d d d d d d c 4 e . . 
    . . e f b d b d b d b b f e . . 
    . . . f f 1 d 1 d 1 d f f . . . 
    . . . . . f f b b f f . . . . . 
    `, SpriteKindLegacy.Player)
controller.moveSprite(mySprite3, 100, 0)
info.setLife(3)
scene.setBackgroundImage(img`
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999991111111199999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999111111111111999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999991111111111111999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999911111111111111199999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999111111111111111199999999999999999999999999999999999999999
    9999999999999999991111111119999999999999999999999999999999999999999999999999999999999999999999999999991111111111111111199999999999999999999999999999999999999999
    9999999999999991111111111111199999999999999999999999999999999999999999999999999999999999999999999999991111111111111111119999999999999999999999999999999999999999
    9999999999999911111111111111119999999999999999999999999999999999999999999999999999999999999999999999911111111111111111119999999999999999999999999999999999999999
    9999999999911111111111111111119999999999999999999999999999999999999999999999999999999999999999999999911111111111111111119999999999999999999999999999999999999999
    9999999999911111111111111111119999999999999999999999999999999999999999999999999999999999999999999999911111111111111111119999999999999999999999999999999999999999
    9999999999911111111111111111119999999999999999999999999999999999999999999999999999999999999999999999911111111111111111119999999999999999999999999999999999999999
    9999999999911111111111111111119999999999999999999999999999999999999999999999999999999999999999999999911111111111111111119999999999999999999999999999999999999999
    9999999999911111111111111111111111199999999999999999999999999999999999999999999999999999999999999999911111111111111111111111999999999999999999999999999999999999
    9999999999911111111111111111111111119999999999999999999999999999999999999999999999999999999999999999911111111111111111111111111199999999999999999999999999999999
    9999999999911111111111111111111111111199999999999999999999999111111111111111111999999999999999999999911111111111111111111111111111999999999999999999999999999999
    9999999999911111111111111111111111111119999999999999999999911111111111111111111999999999999999999999991111111111111111111111111111199999999999999999999999999999
    9999999999911111111111111111111111111119999999999999999999111111111111111111111999999999999999999999991111111111111111111111111111199999999999999999999999999999
    9999999999911111111111111111111111111111999999999999999991111111111111111111111999999999999999999999991111111111111111111111111111199999999999999999999999999999
    9999999999911111111111111111111111111111999999999999999911111111111111111111111999999999999999999999991111111111111111111111111111199999999999999999999999999999
    9999999999991111111111111111111111111111999999999999999111111111111111111111111199999999999999999999991111111111111111111111111111199999999999999999999999999999
    9999999999991111111111111111111111111111999999999999999111111111111111111111111199999999999999999999999111111111111111111111111111199999999999999999999999999999
    9999999999991111111111111111111111111111999999999999999111111111111111111111111119999999999999999999999111111111111111111111111111199999999999999999999999999999
    9999999999991111111111111111111111111111999999999999999111111111111111111111111119999999999999999999999999999999911111111111111111111111111999999999999999999999
    9999999999999111111111111111111111111111999999999999999111111111111111111111111111999999999999999999999999999999911111111111111111111111111199999999999999999999
    9999999999999911111111111111111111111119999999999999999911111111111111111111111111999999999999999999999999999999911111111111111111111111111111999999999999999999
    9999999999999999999991111111111111111119999999999999999991111111111111111111111111199999999999999999999999999999911111111111111111111111111111119999999999999999
    9999999999999999999991111111111111111199999999999999999991111111111111111111111111199999999999999999999999999999991111111111111111111111111111111199999999999999
    9999999999999999999991111111111111111999999999999999999991111111111111111111111111199999999999999999999999999999999911111111111111111111111111111111999999999999
    9999999999999999999999111111111111111999999999999999999991111111111111111111111111199999999999999999999999999999999999999999111111111111111111111111199999999999
    9999999999999999999999911111111111119999999999999999999991111111111111111111111111199999999999999999999999999999999999999999111111111111111111111111199999999999
    9999999999999999999999999111111111199999999999999999999991111111111111111111111111199999999999999999999999999999999999999999111111111111111111111111199999999999
    9999999999999999999999999999999999999999999999999999999991111111111111111111111111199999999999999999999999999999999999999999111111111111111111111111199999999999
    9999999999999999999999999999999999999999999999999999999999111111111111111111111111999999999999999999999999999999999999999999111111111111111111111111199999999999
    9999999999999999999999999999999999999999999999999999999999111111111111111111111119999999999999999999999999999999999999999999111111111111111111111111199999999999
    9999999999999999999999999999999999999999999999999999999999111111111111111111111199999999999999999999999999999999999999999999111111111111111111111111199999999999
    9999999999999999999999999999999999999999999999999999999999111111111111111111111999999999999999999999999999999999999999999999111111111111111111111111199999999999
    9999999999999999999999999999999999999999999999999999999999111111111111111111199999999999999999999999999999999999999999999999111111111111111111111111999999999999
    9999999999999999999999999999999999999999999999999999999999999911111111111119999999999999999999999999999999999999999999999999111111111111111111111111999999999999
    9999999999999999999999999999999999999999999999999999999999999991111111111999999999999999999999999999999999999999999999999999111111111111111111111111999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999111111111111111111111119999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999911111111111111111111119999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999991111111111111111111199999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999991111111111111119999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999977777777777777777777777799999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999777777777777777777777777777777777799999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999777777777777777777777777777777777777777777777999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    7777777777777777777777777777777777777777777777777777777777777999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    7777777777777777777777777777777777777777777777777777777777777777779999999999999999999999999999999999999999999999999999999999999999999999999999999999777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777999999999999999999999999999999999999999999999999999999999999999999999999997777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777779999999999999999999977777777777777777777777777777777777777999999977777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777999997777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    `)
info.setScore(0)
game.onUpdate(function () {
    info.setScore(game.runtime())
})
game.onUpdate(function () {
    if (mySprite.y > 125) {
        pause(200)
    }
})
game.onUpdateInterval(5000, function () {
    addLife = randint(0, 100)
    if (addLife % 9 == 0) {
        Heart = sprites.create(assets.image`blueHeart`, SpriteKindLegacy.Food)
        Heart.setVelocity(0, 120)
        Heart.setPosition(randint(0, 150), -10)
        Heart.setScale(0.85, ScaleAnchor.Middle)
    }
})
forever(function () {
    music_rate += 15
    myBPM = 120 + music_rate
    music.playMelody("A C5 B G F A G E ", myBPM)
    music.playMelody("A C5 B G F A G E ", myBPM)
    music.playMelody("A C5 B G F A G E ", myBPM)
})
forever(function () {
    mySprite3.bottom = 120
    mySprite3.setFlag(SpriteFlag.StayInScreen, true)
    if (info.life() == 0) {
        mySprite.destroy()
        mySprite3.destroy()
        game.over(false)
    }
})
forever(function () {
    if (game.runtime() < 10000) {
        mySprite = sprites.create(sprites.food.bigHam, SpriteKindLegacy.Projectile)
        mySprite.setVelocity(0, randint(55, 135))
        mySprite.setPosition(randint(0, 150), -10)
        mySprite.setScale(randint(0.48, 1.75), ScaleAnchor.Middle)
        mySprite.setFlag(SpriteFlag.AutoDestroy, true)
        pause(randint(600, 1200))
    } else if (game.runtime() > 10000 && game.runtime() < 20000) {
        mySprite = sprites.create(sprites.food.bigHam, SpriteKindLegacy.Projectile)
        mySprite.setVelocity(0, randint(55, 135))
        mySprite.setPosition(randint(0, 150), -10)
        mySprite.setScale(randint(0.48, 1.75), ScaleAnchor.Middle)
        mySprite.setFlag(SpriteFlag.AutoDestroy, true)
        pause(randint(500, 1100))
    } else if (game.runtime() > 20000 && game.runtime() < 30000) {
        mySprite = sprites.create(sprites.food.bigHam, SpriteKindLegacy.Projectile)
        mySprite.setVelocity(0, randint(55, 135))
        mySprite.setPosition(randint(0, 150), -10)
        mySprite.setScale(randint(0.48, 1.75), ScaleAnchor.Middle)
        mySprite.setFlag(SpriteFlag.AutoDestroy, true)
        pause(randint(400, 1000))
    } else if (game.runtime() > 30000 && game.runtime() < 40000) {
        mySprite = sprites.create(sprites.food.bigHam, SpriteKindLegacy.Projectile)
        mySprite.setVelocity(0, randint(65, 145))
        mySprite.setPosition(randint(0, 150), -10)
        mySprite.setScale(randint(0.48, 1.75), ScaleAnchor.Middle)
        mySprite.setFlag(SpriteFlag.AutoDestroy, true)
        pause(randint(300, 900))
    } else {
        mySprite = sprites.create(sprites.food.bigHam, SpriteKindLegacy.Projectile)
        mySprite.setVelocity(0, randint(75, 155))
        mySprite.setPosition(randint(0, 150), -10)
        mySprite.setScale(randint(0.48, 1.75), ScaleAnchor.Middle)
        mySprite.setFlag(SpriteFlag.AutoDestroy, true)
        pause(randint(300, 800))
    }
})
